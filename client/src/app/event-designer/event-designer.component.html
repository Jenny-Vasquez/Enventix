<header class="top-bar">
  <img src="assets/img,/logo-eventix.png" alt="Logo" class="logo" />
  <h1>Diseñador de Evento</h1>
</header>

<div class="layout">




  <!-- Sidebar -->
  <div class="sidebar">
    <h3>Opciones</h3>
    <label>Nombre del evento:
      <input [(ngModel)]="eventName" placeholder="Ej. Festival" />
    </label>

    <label>Diseños guardados:
      <select (change)="onDesignSelect($event)">
        <option *ngFor="let d of designs" [ngValue]="d">{{ d.name }}</option>
      </select>
    </label>

    <button (click)="saveCurrentDesign()">💾 Guardar diseño</button>
    <button (click)="addZone()">➕ Agregar zona</button>
    <button (click)="duplicateZone()">📄 Duplicar zona</button>
    <button (click)="addSeatRow()">🪑 Agregar fila</button>
    <button (click)="removeSeatRow()">❌ Quitar fila</button>

    <label>Asientos por fila:
      <input type="number" [(ngModel)]="seatsPerRow" />
    </label>

    <h4 class="legend-title">Información Asientos</h4>
    <div class="legend">
      <div class="seat-box disponible">N</div>
      <div class="seat-box preferencial">P</div>
      <div class="seat-box vip">V</div>
      <div class="seat-box ocupado">X</div>
    </div>
  </div>

  <!-- Zona de diseño -->
  <div class="design-area">
    <div
      class="grid"
      [ngStyle]="{ width: gridWidth + 'px', height: gridHeight + 'px' }"
    >
    <div
  *ngFor="let zone of zones"
  cdkDrag
  [cdkDragFreeDragPosition]="{ x: zone.x, y: zone.y }"
  (cdkDragEnded)="onDragEnd($event, zone)"
  class="zone"
  [ngStyle]="{
    width: zone.width + 'px',
    height: zone.height + 'px',
    backgroundColor: zone.color
  }"
  (click)="selectZone(zone)"
>
  <div class="zone-header">
    <strong>{{ zone.name }}</strong>
    <button class="close" (click)="removeZone(zone.id)">✕</button>
  </div>
</div>


    </div>
  </div>

  <!-- Editor -->
  <div *ngIf="selectedZone" class="editor">
    <h4>Editar {{ selectedZone.name }}</h4>
    <label>Ancho: <input type="number" [(ngModel)]="selectedZone.width" /></label>
    <label>Alto: <input type="number" [(ngModel)]="selectedZone.height" /></label>
    <label>Capacidad: <input type="number" [(ngModel)]="selectedZone.capacity" /></label>
    <label>Precio por asiento: <input type="number" [(ngModel)]="selectedZone.price" /></label>
    <label>X: <input type="number" [(ngModel)]="selectedZone.x" /></label>
    <label>Y: <input type="number" [(ngModel)]="selectedZone.y" /></label>
    <label>Color: <input type="color" [(ngModel)]="selectedZone.color" /></label>
  </div>
</div>
